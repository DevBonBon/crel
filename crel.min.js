!function(n,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):n.crel=e()}(this,function(){var a=function(n,e){return typeof n===e},l="function",d="object",s="setAttribute",p="attrMap",y="isNode",m="isElement",x=document,A=function(e,n){Array.isArray(n)?n.map(function(n){A(e,n)}):(b[y](n)||(n=x.createTextNode(n)),e.appendChild(n))};function b(n){var e,t=arguments,r=t[1],i=2,o=t.length,f=b[p];if(n=b[m](n)?n:x.createElement(n),1<o){if((!a(r,d)||b[y](r)||Array.isArray(r))&&(--i,r=null),o-i==1&&a(t[i],"string"))n.textContent=t[i];else for(;i<o;++i)null!==(e=t[i])&&A(n,e);for(var u in r)if(f[u]){var c=f[u];a(c,l)?c(n,r[u]):n[s](c,r[u])}else a(r[u],l)?n[u]=r[u]:n[s](u,r[u])}return n}return b[p]={},b[m]=function(n){return n instanceof Element},b[y]=function(n){return n instanceof Node},a(Proxy,"undefined")||(b.proxy=new Proxy(b,{get:function(n,e){return!(e in b)&&(b[e]=b.bind(null,e)),b[e]}})),b});